<!DOCTYPE html>
<html>
<head>
    <title>Tucson's Best Cycling Routes</title>
    <meta charset='utf-8' />
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    
    <!--Bootstrap CSS (must come before other stylesheets)-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">

    <!--Animation CSS and WOW.JS - Source: http://mynameismatthieu.com/WOW/docs.html-->
    <link rel="stylesheet" href="css/animate_minify.css">
    <script src="js/wow.min.js"></script>

    <!--Awesome Fonts Library - Source: https://fontawesome.com/start -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

   <!--Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Merriweather&display=swap" rel="stylesheet">

    <!--Mapbox JS & Mapbox CSS Libraries-->
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.css' rel='stylesheet' />

</head>
<body>


		        <!--Carousel-->
        <div class="wow fadeIn" data-wow-delay="0.5s">         
            <div class="carousel slide" data-ride="carousel" id="BVCarousel" data-interval="false">
                <ol class="carousel-indicators">
                    <li class="active" data-slide-to="0" data-target="#BVCarousel">
                    </li>
                    <li data-slide-to="1" data-target="#BVCarousel">
                    </li>
                    <!--<li data-slide-to="2" data-target="#BVCarousel">
                    </li>
                    <li data-slide-to="3" data-target="#BVCarousel">
                    </li>
                    <li data-slide-to="4" data-target="#BVCarousel">
                    </li>
                    <li data-slide-to="5" data-target="#BVCarousel">
                    </li>
                    <li data-slide-to="6" data-target="#BVCarousel">
                    </li>
                    <li data-slide-to="7" data-target="#BVCarousel">
                    </li>-->
                </ol>
                <div class="carousel-inner borderframe">
                    <div class="carousel-item active"> 
                        <div id="landingpagemap"></div>
                        <div class="carousel-caption d-none d-block">
                            <h1>Tucson Pathways</h1>
                            <h4>Finding Safer, Smarter, Quieter Cycling Routes</h4>
                        </div>

                    </div>
                    <div class="carousel-item">
                        <img alt="Second slide" class="carouselimages d-block w-100" src="img/image3.jpg">
                            <div class="carousel-caption d-none d-block">
                                <h1 style="color:white;">
                                    Additional Content & Resources Coming
                                </h1>
                            </div>
                    </div>
                    
                <a class="carousel-control-prev" data-slide="prev" href="#BVCarousel" role="button">
                    <span aria-hidden="true" class="carousel-control-prev-icon">
                    </span>
                    <span class="sr-only">
                        Previous
                    </span>
                </a>
                <a class="carousel-control-next" data-slide="next" href="#BVCarousel" role="button">
                    <span aria-hidden="true" class="carousel-control-next-icon">
                    </span>
                    <span class="sr-only">
                        Next
                    </span>
                </a>
            </div>
        </div>        
        <!-- Carousel End-->
	<div id="landingpagebuttons">
		<a href="ethos"><button type="button" class="btn btn-warning">Slide-Deck</button></a>
		<a href="map"><button type="button" class="btn btn-warning">Plan Your Route</button></a>
		<a href="http://www.instagram.com/tucsonauts"><button type="button" class="btn btn-warning">Follow <i class="fab fa-instagram"></i></button></a>
	</div>


	<div id="mainpagefooter">
		<br>
		<h6>Additional Content, Data Layers, and Functionality Coming Through October/November</h6>
		<p>Want to tell me how much you hate this? Email tucsonauts@gmail.com</p>
	</div>

























<script src='//d3js.org/d3.v3.min.js' charset='utf-8'></script>
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiZHlsYW5jIiwiYSI6Im53UGgtaVEifQ.RJiPqXwEtCLTLl-Vmd1GWQ';
	var start = [-110.962759,32.226];
	var end = [-110.9, 32.2];
	var mapvar = new mapboxgl.Map({
	attributionControl: false,
	interactive: false,
	container: 'landingpagemap',
	style: 'mapbox://styles/dylanc/cjudqm16b1x3s1fmfjveo40q8',
	center: start,
	zoom: 12.5,
	pitch: 45,
    bearing: 5,


	});
	mapvar.doubleClickZoom.disable();
	mapvar.scrollZoom.disable();
	mapvar.dragPan.disable();
	mapvar.touchZoomRotate.disable();

	var isAtStart = true;

	function fly() {
	// depending on whether we're currently at point a or b, aim for
	// point a or b
	var target = isAtStart ? end : start;

	// and now we're at the opposite point
	isAtStart = !isAtStart;

	mapvar.flyTo({
	    // These options control the ending camera position: centered at
	    // the target, at zoom level 9, and north up.
	    center: target,
	    zoom: 13,
	    bearing: -20,

	    // These options control the flight curve, making it move
	    // slowly and zoom out almost completely before starting
	    // to pan.
	    speed: 0.03, // make the flying slow
	    curve: 0.1, // change the speed at which it zooms out

	    // This can be any easing function: it takes a number between
	    // 0 and 1 and returns another number between 0 and 1.
	    easing: function (t) {
	        return t;
	    }
	});
	} //End fly() Program


	 fly();
mapvar.on('load', function(){
    mapvar.setLayoutProperty('osm-bicycleinfras-5z6khj', 'visibility', 'visible');
    mapvar.setLayoutProperty('theloop-b2gq5f', 'visibility', 'visible');
});

mapvar.on('load', function () {
// We use D3 to fetch the JSON here so that we can parse and use it separately
// from GL JS's use in the added source. You can use any request method (library
// or otherwise) that you want.
d3.json('landing.json', function(err, data) {
if (err) throw err;
 
// save full coordinate list for later
var coordinates = data.features[0].geometry.coordinates;
 
// start by showing just the first coordinate
data.features[0].geometry.coordinates = [coordinates[0]];
 
// add it to the map
mapvar.addSource('trace', { type: 'geojson', data: data });
mapvar.addLayer({
"id": "trace",
"type": "line",
"source": "trace",
"paint": {
"line-color": "#3985dd",
"line-opacity": 0.75,
"line-width": 5
}
});
 
// setup the viewport
//mapvar.jumpTo({ 'center': coordinates[0], 'zoom': 14 });
//mapvar.setPitch(30);
 
// on a regular basis, add more coordinates from the saved list and update the map
var i = 0;
var timer = window.setInterval(function() {
if (i < coordinates.length) {
data.features[0].geometry.coordinates.push(coordinates[i]);
mapvar.getSource('trace').setData(data);
//mapvar.panTo(coordinates[i]);
i++;
} else {
window.clearInterval(timer);
}
}, 100);
});
});
</script>

<!--enables all animation behavior-->
<script>new WOW().init();</script>

<!--Main Javascript File-->
<script src="js/main.js"></script>

<!--Bootstrap Scripts-->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script type="text/javascript" src="https://code.jquery.com/jquery.min.js"></script>

</body>
</html> 