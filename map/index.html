<!DOCTYPE html>
<html>
<head>
    <title>Tucson's Safest Cycling Routes</title>
    <meta 
        name="viewport" 
        content="A data-driven bicycle advocacy organization, focused on mapping the many neighborhoods and residential streets that are interconnected through Tucson's signalled crosswalk network."
        charset="utf-8"
        content='initial-scale=1,maximum-scale=1,user-scalable=no'>

    <!--Bootstrap CSS (must come before other stylesheets)-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!--Animation CSS - Source: http://mynameismatthieu.com/WOW/docs.html-->
        <link rel="stylesheet" href="../css/animate_minify.css">

    <!--Awesome Fonts Library - Source: https://fontawesome.com/start -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

   <!--Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Merriweather&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Shadows+Into+Light&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">

    <!-- Mapbox CSS Libraries-->
        <!--Main --><link href='https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css' rel='stylesheet'/>
        <!--Search--><link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.css" type="text/css" />
        <!--Directions--><link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.0.2/mapbox-gl-directions.css' type='text/css' />
        <!--Draw--><link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.9/mapbox-gl-draw.css' type='text/css'/>

    <!-- Bootstrap 4 Toggle Button Feature -->
        <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">

    <!-- Slick Custom Carousel CSS Library -->
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/> 

    <!-- Custom CSS -->
        <link href="../css/style.css" rel="stylesheet">
</head>
<body>


<div id='bootstrapoverrides' class='container-fluid'>

    <!-- Main Mapbox Map -->
        <div id="map"></div>

    <!--TP Logo-->    
        <a href="../home/index.html"><div id="logo">Tp</div></a>

    <!--Draw Route Controller (Bottom Right)-->
        <div id="bottomRightControls">
            <button id="drawRoute" type="button" class="btn btn-secondary" title="Draw Route" data-toggle="tooltip" data-placement="right"><i class="smallPlusSign fas fa-plus"></i><i class="fas fa-map-marked-alt"></i></button>
            <button id="dropCrosshairMarker" type="button" class="btn btn-custom1 btn-circle" title="Drop Marker" data-toggle="tooltip" data-placement="right"><i class="smallPlusSign fas fa-plus"></i><i class="fas fa-map-marker-alt"></i></button>
            <button id="undoCrosshairMarker" type="button" class="btn btn-custom1 btn-circle" title="Undo" data-toggle="tooltip" data-placement="right"><i class="fas fa-undo-alt"></i></button>
            <button id="cancelCrosshairMarker" type="button" class="btn btn-custom1 btn-circle" title="Cancel" data-toggle="tooltip" data-placement="right"><i class="fas fa-map"></i></button>
            <button id="routeInfo" type="button" class="btn btn-custom1 btn-circle" title="Route" data-toggle="tooltip" data-placement="right" data-target="#routeModal"><i class="fas fa-directions"></i></button>
            <button id="freeDraw" type="button" class="btn btn-custom1 btn-circle" title="Free Draw" data-toggle="tooltip" data-placement="left"></button><!--add font awesome icon if i wasnt to change it <i class="fas fa-project-diagram"></i>   --> 
            <button id="swapButton" type="button" class="btn btn-custom1 btn-circle" title="Free Draw" data-toggle="tooltip" data-placement="left"></button>
        </div>

    <!-- Bottom Slider Control Deck -->
        <div id="bottomControl" class="hidebottom">
            <div id="infoLayers" class="infoScreen">
                <!-- Toolbar and Togglable Layer Buttons in the Bottom -->
                    <div id='toolbar'></div>
            </div>
            <div id="infoRoute" class="infoScreen"><h2>Route</h2></div>
            <div id="infoEvents" class="infoScreen"><h2>Local Events</h2></div>
            <div id="infoAnalysis" class="infoScreen"><h2>Urban Analysis</h2></div>
            <div class="infoScreen"><h2>More</h2></div>
            <div class="infoScreen"><h2>Even More</h2></div>
            <div class="infoScreen"><h2>Even MORE</h2></div>
            <div class="infoScreen"><h2>And Last</h2></div>
        </div>

    <!--Search Bar-->
        <div id="geocoder" class="geocoder hidetop"></div>
        <button id="directionhere" type="button" class="btn btn-info directionsbuttonhidden hidetop"></button>

    <!-- Tutorial Modal -->
        <div class="modal fade bd-example-modal-lg" id="TutorialModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h6 class="modal-title" id="exampleModalLongTitle">Use the Draw Tool <button class="mapbox-gl-draw_ctrl-draw-btn mapbox-gl-draw_line" style="width:24px; height:24px; background-color:white"></button> to point & click a cycling route</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <img src="../img/Tutorial.gif" alt="Gif Tutorial Animation">
              </div>
              <!--<div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>-->
            </div>
          </div>
        </div>

    <!-- RouteInfo Modal -->
        <div class="modal fade bd-example-modal-lg" id="routeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h3 class="modal-title" id="exampleModalLongTitle2"></h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div id=routeDirections></div>
              </div>
              <!--<div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>-->
            </div>
          </div>
        </div>

        <!-- Primary Mapbox Window Controls in the Top Right (Zoom, Draw, Pitch, etc...) -->
            <div id="topRightControls" class="hideright">
                <div id="toggleSwitch">
                    <input id="routerToggle" type="checkbox" checked data-toggle="toggle" data-on='<i class="fas fa-route"></i>' data-off='<i class="fas fa-exclamation-circle"></i>'data-onstyle="success" data-offstyle="danger">
                </div>
            </div>

        <!-- Tutorial and Toggle Sidebar Buttons in the Top Right -->
            <div id='maininfo'>

                <button id="sidebarCollapse" type="button" class="btn btn-circle" title="Toggle Controls" data-toggle="tooltip" data-placement="top"></button>
                
                <!--                 <button id="tutorialButton" type="button" class="btn btn-custom1 btn-circle" title="Tutorial" data-toggle="tooltip" data-placement="top" data-target=".bd-example-modal-lg"><i class="fas fa-question-circle"></i></button>
                -->
                <!-- <button id="isochroneButton" type="button" class="btn btn-info btn-circle" title="Toggle Controls" data-toggle="tooltip" data-placement="top"><i class="fab fa-connectdevelop fa-2x"></i></button> -->
            </div>
<!--             <div id='myLocation'>
                <a href=#  title="My Location"><button type="button" class="btn btn-custom1"><i class="fas fa-street-view"></i></button></a>
            </div> -->
        


<!--             <div id="bottomControl" class="thumb">
                <h4>Data Layers</h3>
            </div>
            <div id="bottomControl2" class="thumb">
                <h4>Route</h3>
            </div>
            <div id="bottomControl3" class="thumb">
                <h4>Analysis</h3>
            </div> -->

    </div>

</div>

<!-- Load My Private API Keys ---------------------------------------------->
    <script src="../js/apikeys.js"></script>

<!--Load Bootstrap Scripts
I think this should be the first script to load, 
because it will JQuery will be loaded in immediately
and some of my other scripts depend on JQuery
---------------------------------------------->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<!--Load Main Mapbox JS Libraries
---------------------------------------------->
    <!--Main--><script src='https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js'></script>
    <!--Search--><script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.min.js"></script>
    <!--Directions--><script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.0.2/mapbox-gl-directions.js'></script>
    <!--Draw--><script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.9/mapbox-gl-draw.js'></script>

<!--Load WOW Animations
Fade/Slide in/Slide out/etc...
Source: http://mynameismatthieu.com/WOW/docs.html
---------------------------------------------->
    <script src="../js/wow.min.js"></script>
    <script>new WOW().init();</script>

<!--Load Graphhopper GHUtil (Required for isochrones) 
---------------------------------------------->
    <script src="../js/GHUtil.js"></script>

<!--Load Graphhopper Javascript API
---------------------------------------------->
    <script src="https://cdn.jsdelivr.net/npm/graphhopper-js-api-client/dist/graphhopper-client.js"></script>

<!-- Bootstrap 4 Toggle Button Feature
---------------------------------------------->
    <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>

<!--Load Slick Carousel Javascript Library
Source: https://kenwheeler.github.io/slick/
---------------------------------------------->
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

<!-- Custom JQuery Script
---------------------------------------------->
    <script type="text/javascript">
        $(document).ready(function () {
            $('#sidebarCollapse').on('click', function () {
                $('#presentation').toggleClass('hideleft');
                $('#topRightControls').toggleClass('hideright');
                $('#tutorialButton').toggleClass('tutorialSlideUp');
                // $('#astronauticon').toggleClass('fa-user-astronaut');
                // $('#astronauticon').toggleClass('fa-user');
                $('#sidebarCollapse').toggleClass('slideup420px');
                $('#geocoder').toggleClass('hidetop');
                $('#directionshere').toggleClass('hidetop');
                $('#bottomControl').toggleClass('hidebottom');
                $('#bottomRightControls').toggleClass('slideup450px');

                // $('#isochroneButton').toggleClass('isochroneSlideUp');
                // $('#toolbar').toggleClass('hidebottom');

            });

            $(function () {
                $('[data-toggle="tooltip"]').tooltip({ trigger:'hover' });
            });

            //Draw Tool Toggle
                $('#drawRoute').on('click', function() {
                    $('#drawRoute').toggleClass('hideDrawRoute');
                    $('#dropCrosshairMarker').toggleClass('drawSlideRight');
                    $('#undoCrosshairMarker').toggleClass('undoSlideUp');
                    $('#routeInfo').toggleClass('RouteInfoSlideRight');
                    $('#freeDraw').toggleClass('secondaryPositionZ0');
                    $('#swapButton').toggleClass('secondaryPositionZ1');
                });
                $('#cancelCrosshairMarker').on('click', function() {
                    $('#drawRoute').toggleClass('hideDrawRoute');
                    $('#dropCrosshairMarker').toggleClass('drawSlideRight');
                    $('#undoCrosshairMarker').toggleClass('undoSlideUp');
                    // $('#routeInfo').toggleClass('RouteInfoSlideRight');
                    $('#freeDraw').toggleClass('secondaryPositionZ0');
                    $('#swapButton').toggleClass('secondaryPositionZ1');
                });
                $('#swapButton').on('click', function() {
                    // $('#dropCrosshairMarker').toggleClass('drawSlideRight');
                    $('#freeDraw').toggleClass('secondaryPositionZ0');
                    $('#cancelCrosshairMarker').toggleClass('secondaryPositionZ0');
                    $('dropCrosshairMarker').toggleClass('drawSlideRight');
                    // $('dropCrosshairMarker').toggleClass('undoSlideUp');
                });
        });
    </script>

<!--Load Custom Javascript
---------------------------------------------->
    <script src="js/routing.js"></script>

<!-- Load Custom ORS Directions Call
---------------------------------------------->
    <script src="js/orsDirectionsCall.js"></script>

</body>
</html> 